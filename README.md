This is some code that sends code from one ESP32s3 to another ESP32s3 over CANBUS. utilising two CAN transevers to send over the CAN high and CAN Low lines.

https://docs.espressif.com/projects/esp-idf/en/v4.3.5/esp32/api-reference/peripherals/twai.html
https://docs.espressif.com/projects/esp-idf/en/stable/esp32/api-reference/peripherals/twai.html
link to library information used for twai.h/driver
